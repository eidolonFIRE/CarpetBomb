from Poly import Poly
from time import time
import copy


testIn = [
	[404, 345],	[401, 345],	[398, 345],	[395, 344],	[392, 344],	[389, 343],	[386, 343],	[383, 343],	[380, 343],	[377, 343],	[374, 343],	[371, 343],	[368, 343],	[365, 343],	[362, 342],	[359, 342],	[356, 342],	[353, 342],	[350, 341],	[347, 341],	[344, 341],	[341, 343],	[341, 346],	[341, 349],	[341, 352],	[343, 355],	[344, 358],	[347, 360],	[350, 361],	[352, 364],	[355, 365],	[358, 366],	[360, 369],	[363, 370],	[365, 373],	[365, 376],	[366, 379],	[366, 382],	[366, 385],	[363, 387],	[360, 388],	[357, 390],	[354, 392],	[351, 395],	[348, 397],	[345, 399],	[342, 401],	[339, 402],	[336, 404],	[333, 405],	[330, 407],	[327, 409],	[324, 410],	[321, 411],	[318, 412],	[315, 413],	[312, 414],	[309, 416],	[306, 417],	[303, 419],	[300, 420],	[297, 421],	[294, 422],	[291, 424],	[289, 427],	[288, 430],	[288, 433],	[288, 436],	[289, 439],	[290, 442],	[292, 445],	[294, 448],	[295, 451],	[297, 454],	[299, 457],	[301, 460],	[304, 462],	[306, 465],	[309, 466],	[312, 467],	[315, 467],	[318, 467],	[321, 467],	[324, 466],	[327, 465],	[330, 464],	[333, 463],	[336, 462],	[339, 461],	[342, 459],	[345, 458],	[348, 457],	[351, 455],	[354, 454],	[357, 453],	[360, 452],	[363, 451],	[366, 451],	[369, 452],	[372, 453],	[375, 454],	[378, 456],	[380, 459],	[381, 462],	[382, 465],	[383, 468],	[384, 471],	[386, 474],	[386, 477],	[386, 480],	[387, 483],	[387, 486],	[388, 489],	[388, 492],	[388, 495],	[388, 498],	[388, 501],	[388, 504],	[388, 507],	[388, 510],	[389, 513],	[392, 515],	[395, 517],	[398, 519],	[401, 519],	[404, 521],	[407, 522],	[410, 522],	[413, 522],	[416, 523],	[419, 523],	[422, 524],	[425, 524],	[428, 524],	[431, 524],	[434, 524],	[437, 523],	[440, 521],	[440, 518],	[442, 515],	[443, 512],	[443, 509],	[443, 506],	[444, 503],	[444, 500],	[444, 497],	[445, 494],	[445, 491],	[445, 488],	[445, 485],	[446, 482],	[447, 479],	[448, 476],	[450, 473],	[452, 470],	[455, 469],	[456, 466],	[459, 465],	[462, 463],	[464, 460],	[467, 458],	[469, 455],	[472, 454],	[475, 454],	[478, 455],	[481, 455],	[484, 456],	[487, 456],	[490, 456],	[493, 456],	[496, 456],	[499, 456],	[502, 456],	[505, 456],	[508, 456],	[511, 456],	[514, 456],	[517, 455],	[520, 455],	[523, 454],	[526, 454],	[529, 453],	[532, 453],	[535, 452],	[538, 452],	[541, 451],	[544, 451],	[547, 450],	[551, 449],	[554, 449],	[557, 449],	[560, 448],	[563, 447],	[566, 446],	[569, 446],	[572, 444],	[573, 441],	[572, 438],	[571, 435],	[569, 432],	[567, 429],	[565, 426],	[562, 424],	[560, 421],	[558, 418],	[555, 416],	[553, 413],	[551, 410],	[549, 407],	[547, 404],	[545, 401],	[542, 399],	[541, 396],	[538, 394],	[536, 391],	[533, 389],	[532, 386],	[529, 384],	[529, 381],	[529, 378],	[529, 375],	[531, 372],	[534, 370],	[535, 367],	[537, 364],	[539, 361],	[540, 358],	[541, 355],	[542, 352],	[542, 349],	[543, 346],	[544, 343],	[544, 340],	[544, 337],	[544, 334],	[544, 331],	[543, 328],	[542, 325],	[542, 322],	[540, 319],	[539, 316],	[538, 313],	[537, 310],	[536, 307],	[535, 304],	[533, 301],	[532, 298],	[530, 295],	[528, 292],	[526, 289],	[523, 287],	[520, 285],	[518, 282],	[515, 281],	[512, 279],	[509, 278],	[506, 275],	[503, 275],	[500, 273],	[497, 273],	[494, 272],	[491, 270],	[488, 270],	[485, 268],	[482, 268],	[479, 268],	[479, 271],	[478, 274],	[478, 277],	[478, 280],	[478, 283],	[478, 286],	[478, 289],	[478, 292],	[478, 295],	[477, 298],	[477, 301],	[477, 304],	[474, 304],	[471, 305],	[468, 305],	[465, 306],	[462, 306],	[459, 306],	[456, 306],	[453, 306],	[450, 307],	[447, 307],	[444, 307],	[441, 307],	[438, 307],	[435, 307],	[432, 307],	[429, 307],	[426, 307],	[423, 307],	[420, 307],	[418, 304],	[418, 301],	[420, 298],	[422, 295],	[424, 292],	[425, 289],	[426, 286],	[427, 283],	[427, 280],	[427, 277],	[427, 274],	[426, 271],	[425, 268],	[424, 265],	[423, 262],	[422, 259],	[420, 256],	[418, 253],	[416, 250],	[414, 247],	[411, 245],	[409, 242],	[406, 240],	[403, 238],	[400, 237],	[397, 237],	[394, 237],	[391, 237],	[388, 237],	[385, 238],	[382, 238],	[379, 240],	[376, 242],	[373, 243],	[371, 246],	[370, 249],	[368, 252],	[366, 255],	[365, 258],	[364, 261],	[363, 264],	[361, 267],	[361, 270],	[359, 273],	[359, 276],	[359, 279],	[360, 282],	[360, 285],	[361, 288],	[363, 291],	[366, 293],	[368, 296],	[371, 298],	[374, 300],	[376, 303],	[379, 305],	[382, 307],	[385, 310],	[388, 312],	[391, 313],	[392, 316],	[394, 319],	[394, 322],	[394, 325],	[394, 328],	[394, 331],	[394, 334],	[395, 337],	[396, 340],	[397, 343],
]



myPoly = Poly()
myPoly.verts = copy.copy(testIn)
print("===== Douglas Reduce =====")

start = time()

myPoly.douglasPeuckerReduceVerts(epsilon=2.7, verbose=True)

end = time()
print((end - start) * 1000)

myPoly.printVerts(myPoly.verts, indent=2)